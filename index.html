<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - SIF Al Fikri</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        body { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; padding: 20px; }
        .container { max-width: 1200px; margin: 0 auto; }
        .header { background: white; padding: 30px; border-radius: 15px; margin-bottom: 30px; text-align: center; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        .header h1 { color: #2c3e50; margin-bottom: 10px; font-size: 2.5em; }
        .header p { color: #7f8c8d; font-size: 1.1em; }
        .systems-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 20px; margin-bottom: 30px; }
        .system-card { background: white; padding: 25px; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); transition: all 0.3s ease; }
        .system-card:hover { transform: translateY(-5px); box-shadow: 0 15px 40px rgba(0,0,0,0.15); }
        .system-card.new { border-top: 5px solid #27ae60; }
        .system-card.existing { border-top: 5px solid #3498db; }
        .system-card h3 { color: #2c3e50; margin-bottom: 15px; font-size: 1.3em; }
        .system-card p { color: #7f8c8d; margin-bottom: 20px; line-height: 1.5; }
        .btn { display: inline-block; padding: 12px 25px; border-radius: 8px; text-decoration: none; font-weight: 600; transition: all 0.3s ease; border: none; cursor: pointer; }
        .btn-primary { background: linear-gradient(135deg, #27ae60 0%, #2ecc71 100%); color: white; }
        .btn-secondary { background: linear-gradient(135deg, #3498db 0%, #2980b9 100%); color: white; }
        .btn:hover { transform: translateY(-2px); box-shadow: 0 8px 20px rgba(0,0,0,0.2); }
        .user-info { background: #e8f4fd; padding: 20px; border-radius: 10px; margin-bottom: 20px; border-left: 4px solid #3498db; }
        .footer { text-align: center; color: white; margin-top: 40px; opacity: 0.8; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ•Œ SISTEM TERPADU SIF AL FIKRI</h1>
            <p>Sekolah Islam Fitrah Al Fikri - Digital Transformation</p>
        </div>

        <div class="user-info" id="userInfo">
            <h3>ğŸ‘‹ Selamat Datang!</h3>
            <p id="userGreeting">Silakan login untuk mengakses sistem lengkap</p>
        </div>

        <div class="systems-grid">
            <!-- SYSTEM 1: BOOKING (NEW) -->
            <div class="system-card new">
                <h3>ğŸš€ SISTEM BARU - Booking Sarana</h3>
                <p><strong>Fitur Lengkap dengan 4-Tier Approval:</strong></p>
                <ul style="color: #5d6d7e; margin: 15px 0; padding-left: 20px;">
                    <li>Reservasi sarana sekolah secara digital</li>
                    <li>Workflow approval: Pemohon â†’ Kepsek â†’ Koordinator â†’ Kabid</li>
                    <li>Tracking status real-time</li>
                    <li>Notifikasi dan reminder</li>
                </ul>
                <a href="login.html" class="btn btn-primary">ğŸ¯ Masuk Sistem Baru</a>
            </div>

            <!-- SYSTEM 2: K3 (EXISTING) -->
            <div class="system-card existing">
                <h3>ğŸš¨ Sistem Laporan K3</h3>
                <p><strong>Laporan Kerusakan, Kehilangan, Kejadian:</strong></p>
                <ul style="color: #5d6d7e; margin: 15px 0; padding-left: 20px;">
                    <li>Pelaporan insiden dan kerusakan fasilitas</li>
                    <li>Tracking status perbaikan</li>
                    <li>Monitoring keamanan sekolah</li>
                    <li>Archive laporan historis</li>
                </ul>
                <a href="k3-form.html" class="btn btn-secondary">ğŸ“‹ Buat Laporan</a>
            </div>

            <!-- SYSTEM 3: PEMESANAN (EXISTING) -->
            <div class="system-card existing">
                <h3>ğŸ“¦ Sistem Pemesanan Barang</h3>
                <p><strong>Permintaan Barang untuk Kegiatan:</strong></p>
                <ul style="color: #5d6d7e; margin: 15px 0; padding-left: 20px;">
                    <li>Pengajuan kebutuhan barang</li>
                    <li>Approval permintaan</li>
                    <li>Tracking pengadaan</li>
                    <li>Manajemen inventory</li>
                </ul>
                <a href="pemesanan-barang.html" class="btn btn-secondary">ğŸ›’ Ajukan Pesanan</a>
            </div>
        </div>

        <div class="system-card" style="text-align: center;">
            <h3>ğŸ“Š Quick Access</h3>
            <div style="display: flex; gap: 10px; justify-content: center; flex-wrap: wrap; margin-top: 15px;">
                <a href="login.html" class="btn btn-primary">ğŸ” Login System</a>
                <a href="user-guide.md" class="btn btn-secondary">ğŸ“š User Guide</a>
                <button onclick="clearSession()" class="btn" style="background: #e74c3c; color: white;">ğŸšª Logout</button>
            </div>
        </div>

        <div class="footer">
            <p>Â© 2025 Sekolah Islam Fitrah Al Fikri | Bagian Umum</p>
            <p>Digital Transformation for Better Education</p>
        </div>
    </div>

    <script>
        // Cek user login
        const currentUser = JSON.parse(localStorage.getItem('currentUser'));
        const userGreeting = document.getElementById('userGreeting');

        if (currentUser) {
            userGreeting.innerHTML = `
                <strong>User:</strong> ${currentUser.username} | 
                <strong>Peran:</strong> ${getRoleName(currentUser.role)} | 
                <strong>Login:</strong> ${new Date(currentUser.loggedInAt).toLocaleString()}
            `;
        } else {
            userGreeting.textContent = 'Silakan login untuk mengakses sistem lengkap';
        }

        function getRoleName(role) {
            const roleNames = {
                'pemohon': 'Pemohon', 'kepsek-sd': 'Kepala Sekolah SD', 'kepsek-smp': 'Kepala Sekolah SMP', 'kepsek-sma': 'Kepala Sekolah SMA',
                'koordinator': 'Koordinator Umum (Erwinsyah)', 'kabid': 'Kabid Umum (Hanung Budianto, S.E.)'
            };
            return roleNames[role] || role;
        }

        function clearSession() {
            localStorage.removeItem('currentUser');
            alert('âœ… Logout berhasil!');
            window.location.reload();
        }
    </script>
</body>
</html>
